<div>
    <span>{{::field.label}}</span>
    <div>
        <div ng-repeat="crate in field.crateDescriptions" ng-if="crate.selected" style="padding-left: 5px;">
            <div class="media">
                <div class="media-left">
                    <img src="/Content/img/gray-crate.png" height="42" width="42"/>
                </div>
                <div class="media-body">
                    <h4 class="media-heading">{{::crate.manifestType}}</h4>
                    {{::crate.label}}
                </div>
            </div>
        </div>
        <div style="margin-left: 20px">
            <a class="btn btn-primary" style="margin-top: 5px;" ng-click="selectCrate()" stop-click-propagation>Select...</a>
        </div>
    </div>
</div>
<script type="text/ng-template" id="TextTemplate-CrateChooserSelectionModal">
    <div class="modal-header">
        <h3 class="modal-title">Select Incoming Data</h3>
    </div>
    <div class="modal-body">
        <div ng-if="crateDescriptions.length > 0">
            <div ivh-treeview="crateDescriptions" ivh-treeview-node-tpl="tpl" ivh-treeview-expand-to-depth="-1"></div>
        </div>
        <div ng-if="crateDescriptions.length == 0">
            No RunTime-Available Upstream Crate was found<span ng-if="allowedManifestTypes && allowedManifestTypes.length > 0"> that can be used by this activity</span>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="ok()">OK</button>
    </div>
</script>

<script type="text/ng-template" id="TextTemplate-CrateNode">
    <div class="crate-node">
        <div class="crate-node-leaf" ng-if="!node.isCategory">
            <div class="row">
                <div class="col-md-1">
                    <md-checkbox class="green" ng-model="node.selected" ng-click="node.selected = !node.selected">
                    </md-checkbox>
                </div>
                <div class="col-md-11 data">
                    <span style="float:left">
                        <img src="/Content/img/gray-crate.png" height="42" width="42" />
                    </span>
                    <span class="ivh-treeview-node-label" ivh-treeview-toggle>
                        <div class="col-md-10">
                            <div class="col-md-12" style="cursor:pointer;">Generated By: <b>{{:: node.producedBy}}</b></div>
                            <div class="col-md-12" style="cursor:pointer;">Crate Type: <b>{{:: node.manifestType}}</b></div>
                        </div>
                    </span>
                </div>
            </div>
        </div>
        <div ng-if="node.isCategory">
            <span class="category-glyph" ivh-treeview-twistie ivh-treeview-toggle></span>
            <span class="ivh-treeview-node-label crate-node-category" ivh-treeview-toggle>
                {{:: trvw.label(node)}}
            </span>
            <div ivh-treeview-children></div>
        </div>
    </div>
</script>

