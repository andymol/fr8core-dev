# Documentation

[Back](/Docs/Home.md)

Fr8's "Documentation" support enables a Terminal to instruct the Client to render elements like help buttons, question-mark mini-icons, and Learn More links. When the user clicks on one of these, the Client makes a /documentation POST to the Hub, which passes the message through to the Terminal. The Terminal returns a Response with information enabling the Client to render pop-ups, hovertext, and other kinds of help. 

As is the case with Configuration UI, this architecture enables Activity Designers to provide rich support to the User without having to be aware of the front-end and to deal with layout issues. 


There are two kinds of documentation mechanisms:

### In-Situ Documentation

In-situ documentation is intended to be visually displayed as part of the Activity’s configuration UI. This enables mechanisms like:

 - A “Help” menu item in the Action’s Settings menu (the little gear icon).
 - A button on the UI that says something like “Learn More”
 - A link in some of the UI text that says something like “Learn More”
 - A small question mark icon that leads to a pop up

### General Activity Documentation

This enables the Activity to cause the client to render a full page of information about the Activity. This documentation is intended to be shown when a user is examining or learning about an Activity.

## The Documentation Request Process

![Documentation_Flow](https://github.com/Fr8org/Fr8Core/blob/master/Docs/img/ActivityDevelopment_DocumentationFlow.png)

 As the above flow shows, Activity designers encode Documentation triggers into their Activities. When the user activates a trigger, a POST is made to the activity, which puts together appropriate content and returns it to the client, which displays it.

### Specifying a Help Menu

If an Activity can provide support for documentation requests (doing so is recommended but not required), it should add to its ActivityTemplate a documentation JSON block that has the string “HelpMenu” in the displayMechanism property. The contentPath property  is ignored for general help requests of this type.

```javascript
"documentation":{
                "contentPath":"",
                "displayMechanism":"HelpMenu"
}
```
If the client encounters this string, it will display the Help Menu Item in the Activity’s Settings menu and POST to  `/activities/documentation/` when the Help Menu is clicked/hovered.

At that his point, the Activity should assemble HTML content and pack it into a `DocumentationResponse` which structure is displayed below:

```javascript
{
"name" : "Buil_Message",
"version": "1",
"terminal" : "Fr8 Core",
"body" : "<h1>Some HTML goes here</h1>"
}
```
The client will render the provide content by popping up a help dialog window.



### Specifying an Activity Overview

An Activity Overview is a page that describes an activity. It’s similar to the page generated by a Help Menu request (see above) but is intended for use outside of actual Plan design. An Activity Overview is a page that will show up in a directory of different activities, while Help Menu content will show up when the user is in the Plan Builder trying to build an actual Plan.

Activity Overviews are currently requested by the Fr8.co website on pages such as https://fr8.co/Services/DocuSign.  To request an Activity Overview, the caller posts to `/activities/documentation` with displayMechanism set to “MainPage”. The resulting data is formatted as a TerminalContent json element, which looks like this:

Element |	Description |	Notes
--- | --- | ---
Body |	a block of HTML	|
Name |	name of the solution	|
Terminal |	friendly name of Terminal |	note that TerminalDO is being extended in another JIRA issue to have a friendly name property
Version |	version number in the form “1.0”	|

## Adding Documentation to a UI Control

Support for documentation features like small minicon question marks and context-specific help is enabled by adding a documentation JSON block to individual UI Controls. All Controls support this functionality through their base class.

### Question Mark Miniicon

To add a question mark minicon to a control, as shown here:

![CrateChooser](https://github.com/Fr8org/Fr8Core/blob/master/Docs/img/ActivityDevelopment_CrateChooser.png)

Add a documentation json block to the control with displayMechanism set to “Minicon”.
```javascript
"documentation":{
                "contentPath":"ExplainMonitoring",
                "displayMechanism":"Minicon"
}
```
The contentPath can be set to any value. It’s used to tell the Activity which piece of documentation to return.

The content might also be URL:Path to redirect user to a new page with documentation.

## Adding Advisories as Popup Help

Advisories as Popup Help represents a modeless popups with custom content that gives some explanations, warnings or more information about specified activity. The content is can defined into this modeless popup can be a simple text or complex html.

To add an Advisory to an Activity, given custom content need to be packed into Activity JSON with custom crates defined specially for advisories. Those crates are from 'AdvisoryMessages Crate Manifest" type and has below specified JSON definition:
```javascript
"advisories" [
    {
      "name":"DocuSign Template Warning",
      "content":"In your selected template you have fields with default values. Those can be changes inside advanced DocuSign UI to  frendlier label."
    }
]
```

Once the terminal provide an advisory for a specific activity, then the front end will render the content provided in a modeless popup, next to the activity, starting from the top-right corner as showed on the picture below. Advisories will be shown in the design-time of a plan.

This way we can make the process easier for users that want to configure a new plan with giving them instructions and help in configuring activities.

  ![CrateChooser](https://github.com/Fr8org/Fr8Core/blob/master/Docs/img/advisoryMessages.png)


[Go to Contents](https://github.com/Fr8org/Fr8Core/blob/master/Docs/Home.md)
